{"data":{"markdownRemark":{"html":"<h2>目的</h2>\n<p>Redux-SagaでStoreのstateを使いたい。</p>\n<h2>解決法</h2>\n<ol>\n<li>actionのpayloadで渡す</li>\n<li>Redux-Sagaのselectを使う</li>\n</ol>\n<h3>2. Redux-Sagaのselectを使う</h3>\n<p>Redux-SagaのselectのAPI Reference: <a href=\"https://redux-saga.js.org/docs/api/#selectselector-args\">https://redux-saga.js.org/docs/api/#selectselector-args</a></p>\n<p>下のコードでStoreのstateを取得することができる。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> select <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux-saga/effects'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">hoge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> state <span class=\"token operator\">=</span> <span class=\"token keyword\">yield</span> <span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>引数にselector関数を渡してstateからデータを取り出すことができる。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> select <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux-saga/effects'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getCurrentUser</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">state</span> <span class=\"token operator\">=></span> state<span class=\"token punctuation\">.</span>currentUser<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">hoge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> currentUser <span class=\"token operator\">=</span> <span class=\"token keyword\">yield</span> <span class=\"token function\">select</span><span class=\"token punctuation\">(</span>getCurrentUser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"Redux-SagaでStoreのstateを使う方法"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/notes/redux-saga-select/"}}